<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Documentation for Open-Source Products at CalCOFI.io">

<title>6&nbsp; Portals – CalCOFI.io Docs</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./refs.html" rel="next">
<link href="./db.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-626149efe8f5d16e1d391ba177679bf0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./portals.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Portals</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">CalCOFI.io Docs</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/CalCOFI/docs/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./CalCOFI.io-Docs.pdf">
              <i class="bi bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./CalCOFI.io-Docs.docx">
              <i class="bi bi-file-word pe-1"></i>
            Download Docx
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./CalCOFI.io-Docs.epub">
              <i class="bi bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-1">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Process</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Reports</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Applications</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./api.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">API</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./db.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Database</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./portals.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Portals</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./refs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">References</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview"><span class="header-section-number">6.1</span> Overview</a></li>
  <li><a href="#data-flow" id="toc-data-flow" class="nav-link" data-scroll-target="#data-flow"><span class="header-section-number">6.2</span> Data Flow</a></li>
  <li><a href="#portals" id="toc-portals" class="nav-link" data-scroll-target="#portals"><span class="header-section-number">6.3</span> Portals</a>
  <ul class="collapse">
  <li><a href="#edi" id="toc-edi" class="nav-link" data-scroll-target="#edi"><span class="header-section-number">6.3.1</span> EDI</a></li>
  <li><a href="#ncei" id="toc-ncei" class="nav-link" data-scroll-target="#ncei"><span class="header-section-number">6.3.2</span> NCEI</a></li>
  <li><a href="#obis" id="toc-obis" class="nav-link" data-scroll-target="#obis"><span class="header-section-number">6.3.3</span> OBIS</a></li>
  <li><a href="#erddap" id="toc-erddap" class="nav-link" data-scroll-target="#erddap"><span class="header-section-number">6.3.4</span> ERDDAP</a></li>
  </ul></li>
  <li><a href="#metadata" id="toc-metadata" class="nav-link" data-scroll-target="#metadata"><span class="header-section-number">6.4</span> Metadata</a></li>
  <li><a href="#meta-portals" id="toc-meta-portals" class="nav-link" data-scroll-target="#meta-portals"><span class="header-section-number">6.5</span> Meta-Portals</a>
  <ul class="collapse">
  <li><a href="#google-dataset-search" id="toc-google-dataset-search" class="nav-link" data-scroll-target="#google-dataset-search"><span class="header-section-number">6.5.1</span> Google Dataset Search</a></li>
  <li><a href="#odis" id="toc-odis" class="nav-link" data-scroll-target="#odis"><span class="header-section-number">6.5.2</span> ODIS</a></li>
  </ul></li>
  <li><a href="#calcofi.io-tools" id="toc-calcofi.io-tools" class="nav-link" data-scroll-target="#calcofi.io-tools"><span class="header-section-number">6.6</span> CalCOFI.io Tools</a>
  <ul class="collapse">
  <li><a href="#apis" id="toc-apis" class="nav-link" data-scroll-target="#apis"><span class="header-section-number">6.6.1</span> APIs</a></li>
  <li><a href="#library" id="toc-library" class="nav-link" data-scroll-target="#library"><span class="header-section-number">6.6.2</span> Library</a></li>
  <li><a href="#apps" id="toc-apps" class="nav-link" data-scroll-target="#apps"><span class="header-section-number">6.6.3</span> Apps</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/CalCOFI/docs/edit/main/portals.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Portals</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="overview" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="overview"><span class="header-section-number">6.1</span> Overview</h2>
<p>CalCOFI data is available through various portals, each serving different purposes and user needs. This document outlines the main access points and their characteristics.</p>
</section>
<section id="data-flow" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="data-flow"><span class="header-section-number">6.2</span> Data Flow</h2>
<p>While it would be ideal for CalCOFI data to be available through a single portal, each portal has its strengths and limitations. The following diagram illustrates one possible realization of data flow between CalCOFI data and the portals: from raw data to the integrated database to portals and meta-portals.</p>
<div class="cell" data-file="diagrams/portals_flow.mmd" data-fig-width="6" data-layout-align="default">
<div class="cell-output-display">
<div id="fig-portals-flow" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-portals-flow-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<pre class="mermaid mermaid-js" data-label="fig-portals-flow">graph TD
  %% nodes with styles
  raw([raw data]):::source

  subgraph calcofi[CalCOFI.io]
    db[(database)]:::database
    web[CalCOFI.org]:::website
    api[APIs]:::api
    lib[library]:::code
    app[apps]:::code
    flow[workflows]:::code
  end

  subgraph portals[Portals]
    edi[EDI]:::portal
    obis[OBIS]:::portal
    erddap[ERDDAP]:::portal
    ncei[NCEI]:::portal
  end

  subgraph meta[Meta-Portals]
    odis[ODIS]:::metaportal
    datagov[data.gov]:::metaportal
  end

  %% edges
  raw --&gt; db
  db  --&gt; api
  db  --&gt; web
  api --&gt; lib
  api --&gt; app
  api --&gt; flow
  flow  --&gt; portals
  portals --&gt;|sitemap| odis
  portals --&gt; datagov

  %% Custom styles
  classDef source     fill:#E0E7FF,stroke:#6366F1,stroke-width:2px
  classDef database   fill:#FEF3C7,stroke:#D97706,stroke-width:2px
  classDef website    fill:#F3E8FF,stroke:#9333EA,stroke-width:2px
  classDef api        fill:#E0E7FF,stroke:#6366F1,stroke-width:2px
  classDef code       fill:#DBEAFE,stroke:#3B82F6,stroke-width:2px
  classDef portal     fill:#F0FDF4,stroke:#22C55E,stroke-width:2px
  classDef metaportal fill:#FEF2F2,stroke:#DC2626,stroke-width:2px

  %% Style subgraphs
  style calcofi fill:#F8FAFC,stroke:#CBD5E1,stroke-width:2px
  style portals fill:#F8FAFC,stroke:#CBD5E1,stroke-width:2px
  style meta fill:#F8FAFC,stroke:#CBD5E1,stroke-width:2px
</pre>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-portals-flow-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.1: Flow of data from raw to database to portals and meta-portals.
</figcaption>
</figure>
</div>
</div>
</div>
<p>In practice, CalCOFI is a partnership with various contributing members, so the authoritative dataset might flow differently, such as from EDI to the database to the other portals. The other portals, such as OBIS or ERDDAP, serve different audiences or purposes. The meta-portals like ODIS and Data.gov then index these portals to provide broader discovery of CalCOFI datasets.</p>
</section>
<section id="portals" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="portals"><span class="header-section-number">6.3</span> Portals</h2>
<p>While some portals serve as data repositories, others provide advanced data access and visualization tools. The following sections describe the main portals where CalCOFI data is available and their key features.</p>
<div class="cell">
<div id="tbl-portals" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-portals-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;6.1: Portal Capabilities.
</figcaption>
<div aria-describedby="tbl-portals-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="aqvdejvizh" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#aqvdejvizh table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#aqvdejvizh thead, #aqvdejvizh tbody, #aqvdejvizh tfoot, #aqvdejvizh tr, #aqvdejvizh td, #aqvdejvizh th {
  border-style: none;
}

#aqvdejvizh p {
  margin: 0;
  padding: 0;
}

#aqvdejvizh .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#aqvdejvizh .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#aqvdejvizh .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#aqvdejvizh .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#aqvdejvizh .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#aqvdejvizh .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#aqvdejvizh .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#aqvdejvizh .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#aqvdejvizh .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#aqvdejvizh .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#aqvdejvizh .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#aqvdejvizh .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#aqvdejvizh .gt_spanner_row {
  border-bottom-style: hidden;
}

#aqvdejvizh .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#aqvdejvizh .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#aqvdejvizh .gt_from_md > :first-child {
  margin-top: 0;
}

#aqvdejvizh .gt_from_md > :last-child {
  margin-bottom: 0;
}

#aqvdejvizh .gt_row {
  padding-top: 5px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#aqvdejvizh .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#aqvdejvizh .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#aqvdejvizh .gt_row_group_first td {
  border-top-width: 2px;
}

#aqvdejvizh .gt_row_group_first th {
  border-top-width: 2px;
}

#aqvdejvizh .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#aqvdejvizh .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#aqvdejvizh .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#aqvdejvizh .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#aqvdejvizh .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#aqvdejvizh .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#aqvdejvizh .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#aqvdejvizh .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#aqvdejvizh .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#aqvdejvizh .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#aqvdejvizh .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#aqvdejvizh .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#aqvdejvizh .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#aqvdejvizh .gt_left {
  text-align: left;
}

#aqvdejvizh .gt_center {
  text-align: center;
}

#aqvdejvizh .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#aqvdejvizh .gt_font_normal {
  font-weight: normal;
}

#aqvdejvizh .gt_font_bold {
  font-weight: bold;
}

#aqvdejvizh .gt_font_italic {
  font-style: italic;
}

#aqvdejvizh .gt_super {
  font-size: 65%;
}

#aqvdejvizh .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#aqvdejvizh .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#aqvdejvizh .gt_indent_1 {
  text-indent: 5px;
}

#aqvdejvizh .gt_indent_2 {
  text-indent: 10px;
}

#aqvdejvizh .gt_indent_3 {
  text-indent: 15px;
}

#aqvdejvizh .gt_indent_4 {
  text-indent: 20px;
}

#aqvdejvizh .gt_indent_5 {
  text-indent: 25px;
}

#aqvdejvizh .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#aqvdejvizh div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table do-not-create-environment cell caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="a::stub" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"></th>
<th id="Full-Archive" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Full Archive</th>
<th id="Versioning" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Versioning</th>
<th id="DOI-Issued" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">DOI Issued</th>
<th id="Query-by-xyt" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Query by xyt</th>
<th id="Query-by-taxa" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Query by taxa</th>
<th id="Multiple-formats" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Multiple formats</th>
<th id="API-Access" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">API Access</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td id="stub_1_1" class="gt_row gt_center gt_stub" data-quarto-table-cell-role="th" scope="row">EDI</td>
<td class="gt_row gt_center" headers="stub_1_1 Full Archive" style="background-color: #CCFFCC; color: #000000">✔</td>
<td class="gt_row gt_center" headers="stub_1_1 Versioning" style="background-color: #CCFFCC; color: #000000">✔</td>
<td class="gt_row gt_center" headers="stub_1_1 DOI Issued" style="background-color: #CCFFCC; color: #000000">✔</td>
<td class="gt_row gt_center" headers="stub_1_1 Query by xyt" style="background-color: #FFF2CC; color: #000000">▲</td>
<td class="gt_row gt_center" headers="stub_1_1 Query by taxa" style="background-color: #FFF2CC; color: #000000">▲</td>
<td class="gt_row gt_center" headers="stub_1_1 Multiple formats" style="background-color: #FFCCCC; color: #000000">✖</td>
<td class="gt_row gt_center" headers="stub_1_1 API Access" style="background-color: #FFF2CC; color: #000000">▲</td>
</tr>
<tr class="even">
<td id="stub_1_2" class="gt_row gt_center gt_stub" data-quarto-table-cell-role="th" scope="row">NCEI</td>
<td class="gt_row gt_center" headers="stub_1_2 Full Archive" style="background-color: #CCFFCC; color: #000000">✔</td>
<td class="gt_row gt_center" headers="stub_1_2 Versioning" style="background-color: #CCFFCC; color: #000000">✔</td>
<td class="gt_row gt_center" headers="stub_1_2 DOI Issued" style="background-color: #CCFFCC; color: #000000">✔</td>
<td class="gt_row gt_center" headers="stub_1_2 Query by xyt" style="background-color: #FFCCCC; color: #000000">✖</td>
<td class="gt_row gt_center" headers="stub_1_2 Query by taxa" style="background-color: #FFCCCC; color: #000000">✖</td>
<td class="gt_row gt_center" headers="stub_1_2 Multiple formats" style="background-color: #FFCCCC; color: #000000">✖</td>
<td class="gt_row gt_center" headers="stub_1_2 API Access" style="background-color: #FFF2CC; color: #000000">▲</td>
</tr>
<tr class="odd">
<td id="stub_1_3" class="gt_row gt_center gt_stub" data-quarto-table-cell-role="th" scope="row">OBIS</td>
<td class="gt_row gt_center" headers="stub_1_3 Full Archive" style="background-color: #FFF2CC; color: #000000">▲</td>
<td class="gt_row gt_center" headers="stub_1_3 Versioning" style="background-color: #FFF2CC; color: #000000">▲</td>
<td class="gt_row gt_center" headers="stub_1_3 DOI Issued" style="background-color: #FFF2CC; color: #000000">▲</td>
<td class="gt_row gt_center" headers="stub_1_3 Query by xyt" style="background-color: #CCFFCC; color: #000000">✔</td>
<td class="gt_row gt_center" headers="stub_1_3 Query by taxa" style="background-color: #CCFFCC; color: #000000">✔</td>
<td class="gt_row gt_center" headers="stub_1_3 Multiple formats" style="background-color: #FFF2CC; color: #000000">▲</td>
<td class="gt_row gt_center" headers="stub_1_3 API Access" style="background-color: #CCFFCC; color: #000000">✔</td>
</tr>
<tr class="even">
<td id="stub_1_4" class="gt_row gt_center gt_stub" data-quarto-table-cell-role="th" scope="row">ERDDAP</td>
<td class="gt_row gt_center" headers="stub_1_4 Full Archive" style="background-color: #FFF2CC; color: #000000">▲</td>
<td class="gt_row gt_center" headers="stub_1_4 Versioning" style="background-color: #FFCCCC; color: #000000">✖</td>
<td class="gt_row gt_center" headers="stub_1_4 DOI Issued" style="background-color: #FFCCCC; color: #000000">✖</td>
<td class="gt_row gt_center" headers="stub_1_4 Query by xyt" style="background-color: #CCFFCC; color: #000000">✔</td>
<td class="gt_row gt_center" headers="stub_1_4 Query by taxa" style="background-color: #FFF2CC; color: #000000">▲</td>
<td class="gt_row gt_center" headers="stub_1_4 Multiple formats" style="background-color: #CCFFCC; color: #000000">✔</td>
<td class="gt_row gt_center" headers="stub_1_4 API Access" style="background-color: #CCFFCC; color: #000000">✔</td>
</tr>
</tbody><tfoot class="gt_sourcenotes">
<tr class="odd">
<td colspan="8" class="gt_sourcenote"><strong>Capability Legend</strong>: ✔ = full, ▲ = partial, ✖ = none</td>
</tr>
</tfoot>

</table>

</div>
</div>
</div>
</figure>
</div>
</div>
<section id="edi" class="level3" data-number="6.3.1">
<h3 data-number="6.3.1" class="anchored" data-anchor-id="edi"><span class="header-section-number">6.3.1</span> EDI</h3>
<p><strong>Environmental Data Initiative</strong></p>
<ul>
<li>Complete dataset archives using DataOne software and EML metadata</li>
<li>DOIs issued for all datasets ensuring citability</li>
<li>Full archive allowing for any data file types</li>
<li>Basic spatial and temporal filtering through web interface</li>
<li>Download in original formats with metadata</li>
<li>Access through DataOne API</li>
<li>Links:
<ul>
<li><a href="https://edirepository.org">EDIrepository.org</a></li>
<li>CalCOFI datasets: <a href="http://portal.edirepository.org:80/nis/simpleSearch?defType=edismax&amp;q=CalCOFI&amp;fq=-scope:ecotrends&amp;fq=-scope:lter-landsat*&amp;fl=id,packageid,title,author,organization,pubdate,coordinates&amp;debug=false">EDI query “CalCOFI”</a></li>
</ul></li>
</ul>
</section>
<section id="ncei" class="level3" data-number="6.3.2">
<h3 data-number="6.3.2" class="anchored" data-anchor-id="ncei"><span class="header-section-number">6.3.2</span> NCEI</h3>
<p><strong>National Centers for Environmental Information</strong></p>
<ul>
<li>Long-term archival of oceanographic data</li>
<li>DOIs issued for dataset submissions</li>
<li>Standardized metadata using ISO 19115-2</li>
<li>Basic search interface with geographic and temporal filtering</li>
<li>Data preserved in original submission formats</li>
<li>Access through NCEI API services</li>
<li>Links:
<ul>
<li><a href="https://www.ncei.noaa.gov/products/ocean-archive">NCEI Ocean Archive</a></li>
<li>CalCOFI datasets: <a href="https://www.ncei.noaa.gov/access/search/index?q=CalCOFI">NCEI search “CalCOFI”</a></li>
</ul></li>
</ul>
</section>
<section id="obis" class="level3" data-number="6.3.3">
<h3 data-number="6.3.3" class="anchored" data-anchor-id="obis"><span class="header-section-number">6.3.3</span> OBIS</h3>
<p><strong>Ocean Biodiversity Information System</strong></p>
<ul>
<li>Specialized in marine biodiversity data</li>
<li>Standardized using DarwinCore fields</li>
<li>Extended measurements supported via <a href="https://manual.obis.org/format_emof.html">extendedMeasurementOrFact</a></li>
<li>Powerful filtering by space, time, and taxonomic parameters</li>
<li>Multiple download formats (CSV, JSON, Darwin Core Archive)</li>
<li>Full REST API access</li>
<li>Links:
<ul>
<li><a href="https://obis.org">OBIS.org</a></li>
<li>CalCOFI datasets: <a href="https://obis.org/datasets">obis.org/dataset</a> + “calcofi” Keyword</li>
</ul></li>
</ul>
</section>
<section id="erddap" class="level3" data-number="6.3.4">
<h3 data-number="6.3.4" class="anchored" data-anchor-id="erddap"><span class="header-section-number">6.3.4</span> ERDDAP</h3>
<p><strong>Environmental Research Division Data Access Program</strong></p>
<ul>
<li>Tabular and gridded data server</li>
<li>Advanced subsetting by space, time, and parameters</li>
<li>Multiple output formats (CSV, JSON, NetCDF, etc.)</li>
<li>RESTful API with direct data access</li>
<li>Built-in data visualization tools</li>
<li>No persistent identifiers but stable URLs</li>
<li>Links:
<ul>
<li><a href="https://upwell.pfeg.noaa.gov/erddap/index.html">ERDDAP</a></li>
<li>CalCOFI datasets:
<ul>
<li><a href="https://oceanview.pfeg.noaa.gov/erddap/search/index.html?page=1&amp;itemsPerPage=1000&amp;searchFor=seabird+CalCOFI">ERDDAP, OceanView - CalCOFI seabirds</a></li>
<li><a href="https://coastwatch.pfeg.noaa.gov/erddap/search/index.html?page=1&amp;itemsPerPage=1000&amp;searchFor=CalCOFI">ERDDAP, CoastWatch - CalCOFI oceanographic</a></li>
</ul></li>
</ul></li>
</ul>
</section>
</section>
<section id="metadata" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="metadata"><span class="header-section-number">6.4</span> Metadata</h2>
<p>The <a href="https://eml.ecoinformatics.org/">Ecological Metadata Language (EML)</a> (and using R package <a href="https://docs.ropensci.org/EML/">EML</a> in workflows) serves as a key standard for describing ecological and environmental data. For CalCOFI, EML metadata files are generated alongside data files, providing structured documentation that enables interoperability across different data portals. This metadata-driven approach allows automated ingestion into various data systems while maintaining data integrity and provenance.</p>
<div class="cell" data-file="diagrams/portals_metadata.mmd" data-fig-width="6" data-layout-align="default">
<div class="cell-output-display">
<div id="fig-portals-metadata" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-portals-metadata-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>
<pre class="mermaid mermaid-js" data-label="fig-portals-metadata">graph LR
    subgraph dataset[Dataset]
        data([data.csv]):::source
        eml[metadata.eml]:::database
    end

    subgraph portals[Portals]
        edi[EDI]:::portal
        erddap[ERDDAP]:::portal
        obis[OBIS]:::portal
        ncei[NCEI]:::portal
    end

    subgraph metaportals[Meta-Portals]
        odis[ODIS]:::metaportal
        datagov[data.gov]:::metaportal
    end

    dataset --&gt; portals
    eml --&gt;|json-ld| metaportals

    %% Custom styles
    classDef source     fill:#E0E7FF,stroke:#6366F1,stroke-width:2px
    classDef database   fill:#FEF3C7,stroke:#D97706,stroke-width:2px
    classDef portal     fill:#F0FDF4,stroke:#22C55E,stroke-width:2px
    classDef metaportal fill:#FEF2F2,stroke:#DC2626,stroke-width:2px

    %% Style subgraphs
    style dataset     fill:#F8FAFC,stroke:#CBD5E1,stroke-width:2px
    style portals     fill:#F8FAFC,stroke:#CBD5E1,stroke-width:2px
    style metaportals fill:#F8FAFC,stroke:#CBD5E1,stroke-width:2px
</pre>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-portals-metadata-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.2: Metadata in the form of ecological metadata language (EML) is used to describe the dataset in a consistent manner that can be ingested by the portals.
</figcaption>
</figure>
</div>
</div>
</div>
<p>The EML specification provides detailed structure for describing datasets, including:</p>
<ul>
<li>Dataset identification and citation</li>
<li>Geographic and temporal coverage</li>
<li>Variable definitions and units</li>
<li>Methods and protocols</li>
<li>Quality control procedures</li>
<li>Access and usage rights</li>
</ul>
<p>This standardized metadata enables automated data transformation and ingestion into various portal systems while preserving the original data context and quality information.</p>
</section>
<section id="meta-portals" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="meta-portals"><span class="header-section-number">6.5</span> Meta-Portals</h2>
<section id="google-dataset-search" class="level3" data-number="6.5.1">
<h3 data-number="6.5.1" class="anchored" data-anchor-id="google-dataset-search"><span class="header-section-number">6.5.1</span> Google Dataset Search</h3>
<p>The JSON-LD metadata in the Portal dataset web pages get indexed by <a href="https://datasetsearch.research.google.com/search?query=calcofi">Google Dataset Search</a> through schema.org metadata. This ensures that CalCOFI data is discoverable through Google search and other search engines.</p>
</section>
<section id="odis" class="level3" data-number="6.5.2">
<h3 data-number="6.5.2" class="anchored" data-anchor-id="odis"><span class="header-section-number">6.5.2</span> ODIS</h3>
<p><strong>Ocean Data Information System</strong></p>
<p>ODIS uses the same technology as Google Dataset Search (schema.org, JSON-LD), but focuses on ocean data. CalCOFI curates a sitemap of authoritative datasets to server to <a href="https://odis.org">ODIS.org</a></p>
<p>This federated approach ensures that CalCOFI data remains:</p>
<ul>
<li>Discoverable through multiple channels</li>
<li>Properly cited and attributed</li>
<li>Integrated with global ocean data systems</li>
</ul>
</section>
</section>
<section id="calcofi.io-tools" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="calcofi.io-tools"><span class="header-section-number">6.6</span> CalCOFI.io Tools</h2>
<p>CalCOFI is also developing an integrated database and tools that enable efficient data access and analysis:</p>
<section id="apis" class="level3" data-number="6.6.1">
<h3 data-number="6.6.1" class="anchored" data-anchor-id="apis"><span class="header-section-number">6.6.1</span> APIs</h3>
<ul>
<li>RESTful endpoints for programmatic access</li>
<li>Filtering by space, time, and taxonomic parameters</li>
<li>Relationship queries across tables</li>
<li>Links:
<ul>
<li><a href="https://api.calcofi.io">api.calcofi.io</a></li>
<li><a href="https://tile.calcofi.io">tile.calcofi.io</a></li>
</ul></li>
</ul>
</section>
<section id="library" class="level3" data-number="6.6.2">
<h3 data-number="6.6.2" class="anchored" data-anchor-id="library"><span class="header-section-number">6.6.2</span> Library</h3>
<ul>
<li>Direct data access from R</li>
<li>Built-in analysis functions</li>
<li>Integration with tidyverse ecosystem</li>
<li>Link:
<ul>
<li><a href="https://calcofi.io/calcofi4r">calcofi.io/calcofi4r</a></li>
</ul></li>
</ul>
</section>
<section id="apps" class="level3" data-number="6.6.3">
<h3 data-number="6.6.3" class="anchored" data-anchor-id="apps"><span class="header-section-number">6.6.3</span> Apps</h3>
<ul>
<li>Interactive data exploration with Shiny applications</li>
<li>User-friendly interfaces</li>
<li>Subset and download data</li>
<li>Link:
<ul>
<li><a href="https://calcofi.io">calcofi.io</a>, App button</li>
</ul></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/calcofi\.io\/docs\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./db.html" class="pagination-link" aria-label="Database">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Database</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./refs.html" class="pagination-link" aria-label="References">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">References</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/CalCOFI/docs/edit/main/portals.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li></ul></div></div></div></footer></body></html>